name = "test-app"
compatibility_date = "2025-08-03"
main = "./src/index.tsx"

[vars]
ANTHROPIC_API_KEY = "" # Set via wrangler secret or .dev.vars
AI_MODEL = "claude-sonnet-4-20250514" # Optional: AI model to use

# D1 Database binding
[[d1_databases]]
binding = "DB"
database_name = "02-db"
database_id = "local-dev-db" # Replace with actual ID after creation

# R2 Bucket binding
[[r2_buckets]]
binding = "ASSETS"
bucket_name = "02-assets"

# KV Namespace binding
[[kv_namespaces]]
binding = "CACHE"
id = "local-dev-kv" # Replace with actual ID after creation

# Durable Objects binding
[[durable_objects.bindings]]
name = "STATE_MANAGER"
class_name = "StateManager"

[[migrations]]
tag = "v1"
new_classes = ["StateManager"]

# Queue binding
[[queues.producers]]
binding = "TASKS"
queue = "02-tasks"
